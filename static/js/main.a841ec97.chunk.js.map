{"version":3,"sources":["Message.js","firebase.js","App.js","reportWebVitals.js","index.js"],"names":["Message","forwardRef","ref","username","text","user","Card","className","CardContent","Typography","color","variant","component","db","firebase","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","measurementId","firestore","App","useState","setUsername","useEffect","collection","orderBy","onSnapshot","snapshot","setMessages","docs","map","doc","id","message","data","prompt","messages","input","setInput","style","marginTop","FormControl","placeholder","value","onChange","event","target","IconButton","type","disabled","onClick","preventDefault","add","timestamp","FieldValue","serverTimestamp","document","documentElement","scrollTop","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"oTAqBeA,EAfCC,sBAAW,WAAqBC,GAAS,IAA3BC,EAA0B,EAA1BA,SAAUC,EAAgB,EAAhBA,KAC9BC,EAAOF,IAAaC,EAAKD,SAC/B,OAEI,cAACG,EAAA,EAAD,CAAMJ,IAAKA,EAAKK,UAAS,wBAAmBF,EAAO,qBAAuB,uBAA1E,SACI,cAACG,EAAA,EAAD,UAEI,eAACC,EAAA,EAAD,CAAYC,MAAM,QAAQC,QAAQ,KAAKC,UAAU,KAAjD,WACMP,GAAD,UAAYD,EAAKD,UAAL,eAAZ,MADL,IACuDC,EAAKA,e,yBCE7DS,EAdKC,IAASC,cAAc,CAGvCC,OAAQ,0CACRC,WAAY,2CACZC,UAAW,2BACXC,cAAe,uCACfC,kBAAmB,eACnBC,MAAO,4CACPC,cAAe,iBAGIC,Y,QCqERC,MAvEf,WAEE,MAAgCC,mBAAS,IAAzC,mBAAOtB,EAAP,KAAiBuB,EAAjB,KAEAC,qBAAU,WAGRd,EAAGe,WAAW,YAAYC,QAAQ,YAAa,QAAQC,YAAW,SAAAC,GAChEC,EAAYD,EAASE,KAAKC,KAAI,SAAAC,GAAG,MAAK,CAAEC,GAAID,EAAIC,GAAIC,QAASF,EAAIG,iBAElE,IAUHX,qBAAU,WACRD,EAAYa,OAAO,uBAClB,IAGH,MAAgCd,mBAAS,IAAzC,mBAAOe,EAAP,KAAiBR,EAAjB,KAEA,EAA0BP,mBAAS,IAAnC,mBAAOgB,EAAP,KAAcC,EAAd,KAaA,OACE,sBAAKnC,UAAU,MAAf,UACE,sBAAKA,UAAU,cAAf,UACE,oBAAIoC,MAAO,CAAEC,UAAW,GAAxB,uBAEA,0CAAazC,QAEf,qBAAKI,UAAU,wBAAf,SACE,cAAC,IAAD,UAGIiC,EAASN,KAAI,gBAAGE,EAAH,EAAGA,GAAIC,EAAP,EAAOA,QAAP,OAAsB,cAAC,EAAD,CAAkBlC,SAAUA,EAAUC,KAAMiC,GAA9BD,UAKvD,qBAAK7B,UAAU,qBAAf,SACE,sBAAMA,UAAU,YAAhB,SACE,eAACsC,EAAA,EAAD,CAAatC,UAAU,mBAAvB,UACE,uBAAOA,UAAU,aAAauC,YAAY,gBAAgBC,MAAON,EAAOO,SAAU,SAAAC,GAAK,OAAIP,EAASO,EAAMC,OAAOH,UACjH,cAACI,EAAA,EAAD,CAAY5C,UAAU,kBAAkB6C,KAAK,SAASC,UAAWZ,EAAO9B,QAAQ,YAAYD,MAAM,GAAG4C,QA/B3F,SAACL,GACnBA,EAAMM,iBACN1C,EAAGe,WAAW,YAAY4B,IAAI,CAC5BpD,KAAMqC,EACNtC,SAAUA,EACVsD,UAAW3C,IAASS,UAAUmC,WAAWC,oBAG3CjB,EAAS,IACTkB,SAASC,gBAAgBC,UAAY,GAsB7B,SACE,cAAC,IAAD,iBC7DCC,EAZS,SAAAC,GAClBA,GAAeA,aAAuBC,UACxC,6BAAqBC,MAAK,YAAkD,IAA/CC,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC3DJ,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAON,GACPO,EAAQP,OCDdQ,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFd,SAASe,eAAe,SAM1BZ,M","file":"static/js/main.a841ec97.chunk.js","sourcesContent":["import { Card, CardContent, Typography } from '@material-ui/core'\r\nimport React, { forwardRef } from 'react'\r\nimport './Message.css';\r\n\r\n// to have reference\r\n// higher order function es6\r\nconst Message = forwardRef(({ username, text }, ref) => {\r\n    const user = username === text.username; //if message send is our username\r\n    return (\r\n\r\n        <Card ref={ref} className={`message__card ${user ? \"message__card-user\" : \"message__card-guest\"}`}>\r\n            <CardContent>\r\n                {/* variant make it appear h5 but component make html element of h2 */}\r\n                <Typography color=\"white\" variant=\"h5\" component=\"h2\" >\r\n                    {!user && `${text.username || `Unknown User`}: `} {text.text}\r\n                </Typography>\r\n            </CardContent>\r\n        </Card>\r\n    )\r\n})\r\n\r\nexport default Message\r\n","import firebase from \"firebase\"\r\n\r\nconst firebaseApp = firebase.initializeApp({\r\n    // For Firebase JS SDK v7.20.0 and later, measurementId is optional\r\n\r\n    apiKey: \"AIzaSyA68ZOE-EPoi315zwdTFLuoaiIWFXeLx5w\",\r\n    authDomain: \"facebook-messenger-a9d6d.firebaseapp.com\",\r\n    projectId: \"facebook-messenger-a9d6d\",\r\n    storageBucket: \"facebook-messenger-a9d6d.appspot.com\",\r\n    messagingSenderId: \"230133687542\",\r\n    appId: \"1:230133687542:web:6e250e441d88ac4fe578d7\",\r\n    measurementId: \"G-KHVF5RJKJN\"\r\n\r\n});\r\nconst db = firebaseApp.firestore();\r\n\r\nexport default db;","import { Button, FormControl, InputLabel, Input, IconButton } from '@material-ui/core';\r\nimport { useEffect, useState } from 'react';\r\nimport './App.css';\r\nimport Message from './Message';\r\nimport SendIcon from '@material-ui/icons/Send';\r\nimport db from './firebase';\r\nimport firebase from 'firebase';\r\nimport FlipMove from 'react-flip-move';\r\nimport { green } from '@material-ui/core/colors';\r\nimport { Colorize } from '@material-ui/icons';\r\n\r\n\r\nfunction App() {\r\n  //storing username and set username\r\n  const [username, setUsername] = useState('');\r\n  //calling on loading page and ask for user\r\n  useEffect(() => {\r\n    // run once when app loads\r\n    //snapshot run every single time dataabase take change pic\r\n    db.collection('messages').orderBy('timestamp', 'desc').onSnapshot(snapshot => {\r\n      setMessages(snapshot.docs.map(doc => ({ id: doc.id, message: doc.data() })));\r\n    })\r\n  }, [])\r\n  // id to have key and render only key elemnet not all\r\n\r\n  // useEffect(() => {\r\n  //   //when app.js loads\r\n  //   db.collection('messages').onSnapshot(snapshot => {\r\n  //     setMessages()\r\n  //   })\r\n  // }, [])\r\n\r\n  useEffect(() => {\r\n    setUsername(prompt(\"Enter username: \"))\r\n  }, [])\r\n\r\n  //store message as a array of object having username and text\r\n  const [messages, setMessages] = useState([]);\r\n  //take input that is text of message\r\n  const [input, setInput] = useState('');\r\n\r\n  const sendMessage = (event) => {\r\n    event.preventDefault();\r\n    db.collection('messages').add({\r\n      text: input,\r\n      username: username,\r\n      timestamp: firebase.firestore.FieldValue.serverTimestamp()\r\n    })\r\n    // setMessages([...messages, { username: username, text: input }]);\r\n    setInput('');\r\n    document.documentElement.scrollTop = 0;\r\n  }\r\n  return (\r\n    <div className=\"App\">\r\n      <div className=\"app__header\">\r\n        <h1 style={{ marginTop: 0 }}>Messenger\r\n        </h1>\r\n        <h2>Welcome {username}</h2>\r\n      </div>\r\n      <div className=\"app__messageContainer\">\r\n        <FlipMove>\r\n          {\r\n            // prompt username is passed and whole object message is passed.\r\n            messages.map(({ id, message }) => (<Message key={id} username={username} text={message} />))\r\n            // key is to render only new value not old\r\n          }\r\n        </FlipMove>\r\n      </div>\r\n      <div className=\"app__formContainer\">\r\n        <form className=\"app__form\">\r\n          <FormControl className=\"app__formcontrol\">\r\n            <input className=\"app__input\" placeholder=\"Enter message\" value={input} onChange={event => setInput(event.target.value)} />\r\n            <IconButton className=\"app__iconButton\" type=\"submit\" disabled={!input} variant=\"contained\" color=\"\" onClick={sendMessage}>\r\n              <SendIcon />\r\n            </IconButton>\r\n            {/* icon button wrap sendicon and make it as button */}\r\n          </FormControl>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}